## Deploy model

### Name 

deploy_model

### Version 

0.0.2

### Type 

command

### Description 

Deploy a model to a workspace. The component works on compute with [MSI](https://learn.microsoft.com/en-us/azure/machine-learning/how-to-create-manage-compute-instance?tabs=python) attached.

## Inputs 

Output of registering component

| Name                                 | Description                                                                                                                          | Type     | Default         | Optional | Enum                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------ | -------- | --------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| registration_details                 | Json file that contains the ID of registered model to be deployed                                                                    | uri_file |                 | False    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| endpoint_name                        | Name of the endpoint                                                                                                                 | string   |                 | False    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| deployment_name                      | Name of the deployment                                                                                                               | string   |                 | False    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| instance_type                        | Compute instance type to deploy model. Make sure that instance type is available and have enough quota available.                    | string   | Standard_F8s_v2 | True     | ['Standard_DS1_v2', 'Standard_DS2_v2', 'Standard_DS3_v2', 'Standard_DS4_v2', 'Standard_DS5_v2', 'Standard_F2s_v2', 'Standard_F4s_v2', 'Standard_F8s_v2', 'Standard_F16s_v2', 'Standard_F32s_v2', 'Standard_F48s_v2', 'Standard_F64s_v2', 'Standard_F72s_v2', 'Standard_FX24mds', 'Standard_FX36mds', 'Standard_FX48mds', 'Standard_E2s_v3', 'Standard_E4s_v3', 'Standard_E8s_v3', 'Standard_E16s_v3', 'Standard_E32s_v3', 'Standard_E48s_v3', 'Standard_E64s_v3', 'Standard_NC4as_T4_v3', 'Standard_NC6s_v2', 'Standard_NC6s_v3', 'Standard_NC8as_T4_v3', 'Standard_NC12s_v2', 'Standard_NC12s_v3', 'Standard_NC16as_T4_v3', 'Standard_NC24s_v2', 'Standard_NC24s_v3', 'Standard_NC64as_T4_v3', 'Standard_ND40rs_v2', 'Standard_ND96asr_v4', 'Standard_ND96amsr_A100_v4'] |
| instance_count                       | Number of instances you want to use for deployment. Make sure instance type have enough quota available.                             | integer  | 1               | True     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| max_concurrent_requests_per_instance | Maximum concurrent requests to be handled per instance                                                                               | integer  | 1               | True     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| request_timeout_ms                   | Request timeout in ms. Max limit is 90000.                                                                                           | integer  | 5000            | True     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| max_queue_wait_ms                    | Maximum queue wait time of a request in ms                                                                                           | integer  | 500             | True     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| failure_threshold_readiness_probe    | No of times system will try after failing the readiness probe                                                                        | integer  | 10              | True     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| success_threshold_readiness_probe    | The minimum consecutive successes for the readiness probe to be considered successful after having failed                            | integer  | 1               | True     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| timeout_readiness_probe              | The number of seconds after which the readiness probe times out                                                                      | integer  | 10              | True     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| period_readiness_probe               | How often (in seconds) to perform the readiness probe                                                                                | integer  | 10              | True     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| initial_delay_readiness_probe        | The number of seconds after the container has started before the readiness probe is initiated                                        | integer  | 10              | True     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| failure_threshold_liveness_probe     | No of times system will try after failing the liveness probe                                                                         | integer  | 30              | True     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| timeout_liveness_probe               | The number of seconds after which the liveness probe times out                                                                       | integer  | 10              | True     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| period_liveness_probe                | How often (in seconds) to perform the liveness probe                                                                                 | integer  | 10              | True     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| initial_delay_liveness_probe         | The number of seconds after the container has started before the liveness probe is initiated                                         | integer  | 10              | True     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| egress_public_network_access         | Setting it to disabled secures the deployment by restricting communication between the deployment and the Azure resources used by it | string   | enabled         | True     | ['enabled', 'disabled']                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |

## Outputs 

| Name                     | Description                                           | Type     |
| ------------------------ | ----------------------------------------------------- | -------- |
| model_deployment_details | Json file to which deployment details will be written | uri_file |